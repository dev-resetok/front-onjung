// 칭찬 후기 데이터
const praiseRankings = [
    {
        rank: 1,
        username: "CORKSTUDIO",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/fa970db0-abdd-4b41-a512-de0e18e3d27c/avatar/ZswD8qqqrARGSgFX.11.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/chldbrhks",
    },
    {
        rank: 1,
        username: "TOT DESIGN",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/b3a2e74d-5c60-40e4-b927-47fe6181b32c/avatar/9yJS4JUeSWJJfqof.TOT%20DESIGN.png.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/yeendh",
    },
    {
        rank: 3,
        username: "amh_design",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/d9df8a2e-a4e7-49fb-897f-e856ff2534a6/avatar/FMmojjUhq9uznLLx.%E1%84%86%E1%85%AE%E1%84%8C%E1%85%A6-1.png.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/amh_design",
    },
    {
        rank: 4,
        username: "flatlee Design",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/d7fdcd38-73be-43ce-b074-29c0d5cb7287/avatar/myJqLNnZ7JnNMAsg.%ED%94%84%EB%A1%9C%ED%95%84.png.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/algml7958",
    },
    {
        rank: 5,
        username: "CW_Design",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/48a8eab5-0e2d-4152-8da4-781097f3fbbf/avatar/KGMk2XNBvyv9pBs9.%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%83%E1%85%B3%E1%84%86%E1%85%A1%E1%84%8F%E1%85%A6%E1%86%BA.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/cw_design",
    },
];

// 콘테스트 우승 데이터
const contestRankings = [
    {
        rank: 1,
        username: "미쁨",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/2d26a1b8-804b-4ffd-a112-9a2157abbca4/avatar/member_110055_1_211204022454.png.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/mibbem",
    },
    {
        rank: 2,
        username: "CORKSTUDIO",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/fa970db0-abdd-4b41-a512-de0e18e3d27c/avatar/ZswD8qqqrARGSgFX.11.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/chldbrhks",
    },
    {
        rank: 3,
        username: "B_M_K",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/50d38a26-704f-4597-9ce8-dd1a3aac28e0/avatar/p2VbzVLjPuYGWjhW.dfdfhdfg.JPG.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/bmk",
    },
    {
        rank: 4,
        username: "su_m",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/5201808f-3350-49c1-8da5-01235749fe61/avatar/iMF764CYZAHTVDJE.20240121_183001.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/sum",
    },
    {
        rank: 5,
        username: "M_j_d",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/2c088efa-2498-4b4d-8fc1-e6a7ea445fe5/avatar/member_84394_1_201130225428.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/mjd",
    },
];

// 상품 판매 데이터
const salesRankings = [
    {
        rank: 1,
        username: "TOT DESIGN",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/b3a2e74d-5c60-40e4-b927-47fe6181b32c/avatar/9yJS4JUeSWJJfqof.TOT%20DESIGN.png.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/yeendh",
    },
    {
        rank: 2,
        username: "flatlee Design",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/d7fdcd38-73be-43ce-b074-29c0d5cb7287/avatar/myJqLNnZ7JnNMAsg.%ED%94%84%EB%A1%9C%ED%95%84.png.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/algml7958",
    },
    {
        rank: 3,
        username: "waylog",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/32c093e6-3c5a-4bd1-801e-50c44f69b36b/avatar/PSQvNng2iFNbBDta.%E1%84%8B%E1%85%B0%E1%84%8B%E1%85%B5%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/waylog",
    },
    {
        rank: 4,
        username: "루나작명소",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/c993b21e-b558-4499-a5fd-4a55428da0e2/avatar/member_204238_1_220506043005.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/luna",
    },
    {
        rank: 5,
        username: "happyrecipe",
        avatarUrl:
            "https://cdn-dantats.stunning.kr/prod/users/4e475da7-e017-426e-82d2-ef8f8f3f11a9/avatar/hoc2MRNFP7YcZxAe.%E1%84%92%E1%85%A2%E1%84%91%E1%85%B5%E1%84%85%E1%85%A6%E1%84%89%E1%85%B5%E1%84%91%E1%85%B5%20%E1%84%85%E1%85%A9%E1%84%80%E1%85%A9_new-05.jpg.small?q=60&t=crop&s=60x60&f=webp",
        profileUrl: "/m/happyrecipe",
    },
];

const renderRankings = (rankings, containerClass) => {
    const listContainer = document.querySelector(containerClass);

    rankings.forEach((user) => {
        let svgColor = null;
        if (user.rank === 1) {
            svgColor = "rgb(255, 225, 133);";
        } else if (user.rank === 2 || user.rank === 3) {
            svgColor = "rgb(219, 222, 226);";
        }

        const listItem = document.createElement("li");
        listItem.classList.add("user-rank-article");

        // SVG 태그 추가 여부 결정
        const svgElement = svgColor
            ? `<svg class="rank-crwon" style="fill: ${svgColor};" viewBox="0 0 52 38">
               <path fill-rule="evenodd" clip-rule="evenodd" d="M10.3699 6.6267C10.3699 6.6267 9.95615 3.37591 15.7487 0C15.7487 0 15.197 4.37609 10.3699 6.6267ZM8.17862 8.76431C8.17862 8.76431 6.09431 6.09256 9.38843 0.610352C9.38843 0.610352 11.2215 4.68935 8.17862 8.76431ZM6.06946 12.9234C6.06946 12.9234 3.50656 10.619 5.70432 4.70264C5.70432 4.70264 8.28851 8.43258 6.06946 12.9234ZM5.10401 16.4241C5.10401 16.4241 1.7907 15.1257 1.45726 8.89014C1.45726 8.89014 5.36389 11.5089 5.10401 16.4241ZM5.92331 21.6789C5.92331 21.6789 2.48251 20.6898 1.45738 14.5166C1.45738 14.5166 5.63524 16.7649 5.92331 21.6789ZM7.02661 25.0546C7.02661 25.0546 3.42442 25.2639 0 19.8477C0 19.8477 4.79283 20.5697 7.02661 25.0546ZM7.52088 11.4869C7.52088 11.4869 7.6348 8.21615 13.9086 5.64258C13.9086 5.64258 12.6585 9.89886 7.52088 11.4869ZM6.07315 19.3112C6.07315 19.3112 4.63901 16.3082 9.10541 11.5566C9.10541 11.5566 9.97476 15.8901 6.07315 19.3112ZM9.24553 26.8128C9.24553 26.8128 6.2252 24.6519 7.7673 18.146C7.7673 18.146 10.9996 21.8143 9.24553 26.8128ZM11.728 30.3132C11.728 30.3132 7.72293 31.0021 3.05384 25.3638C3.05384 25.3638 8.53614 25.5684 11.728 30.3132ZM14.4864 32.5635C14.4864 32.5635 11.0671 34.5758 4.39089 30.9597C4.39089 30.9597 9.55062 29.2675 14.4864 32.5635ZM19.5893 34.6893C19.5893 34.6893 16.7841 37.371 9.36018 35.2708C9.36018 35.2708 13.9401 32.5314 19.5893 34.6893ZM24.4165 35.8147C24.4165 35.8147 22.0824 38.8447 14.3965 37.7693C14.3965 37.7693 18.476 34.4427 24.4165 35.8147ZM16.0035 32.6887C16.0035 32.6887 12.0468 31.7991 10.4 24.9087C10.4 24.9087 15.2876 27.1693 16.0035 32.6887ZM24.4165 35.6895C24.4165 35.6895 20.3545 36.0015 16.3494 29.958C16.3494 29.958 21.7795 30.6725 24.4165 35.6895ZM41.6299 6.6267C41.6299 6.6267 42.0437 3.37591 36.2511 0C36.2511 0 36.8028 4.37609 41.6299 6.6267ZM43.8213 8.76431C43.8213 8.76431 45.9055 6.09256 42.6115 0.610352C42.6115 0.610352 40.7783 4.68935 43.8213 8.76431ZM45.9305 12.9234C45.9305 12.9234 48.4934 10.619 46.2957 4.70264C46.2957 4.70264 43.7113 8.43258 45.9305 12.9234ZM46.8959 16.4241C46.8959 16.4241 50.2092 15.1257 50.5426 8.89014C50.5426 8.89014 46.636 11.5089 46.8959 16.4241ZM46.0766 21.6789C46.0766 21.6789 49.5174 20.6898 50.5427 14.5166C50.5427 14.5166 46.3647 16.7649 46.0766 21.6789ZM44.9732 25.0545C44.9732 25.0545 48.5755 25.2638 52 19.8477C52 19.8477 47.2071 20.5696 44.9732 25.0545ZM44.4791 11.4869C44.4791 11.4869 44.3653 8.21615 38.0914 5.64258C38.0914 5.64258 39.3414 9.89886 44.4791 11.4869ZM45.9268 19.3112C45.9268 19.3112 47.361 16.3082 42.8946 11.5566C42.8946 11.5566 42.0251 15.8901 45.9268 19.3112ZM42.7544 26.8128C42.7544 26.8128 45.7747 24.6519 44.2326 18.146C44.2326 18.146 41.0003 21.8143 42.7544 26.8128ZM40.2718 30.3132C40.2718 30.3132 44.2769 31.0021 48.946 25.3638C48.946 25.3638 43.4636 25.5684 40.2718 30.3132ZM37.5135 32.5635C37.5135 32.5635 40.9328 34.5758 47.609 30.9597C47.609 30.9597 42.4492 29.2675 37.5135 32.5635Z"></path>
           </svg>`
            : ""; // svgColor가 null인 경우 svg

        listItem.innerHTML = `
            <article class="user-rank-article rank-user">
                <div class="avatar-wrap">
                    ${svgElement}
                    <a class="user-img avatar" href="${user.profileUrl}">
                        <img src="${user.avatarUrl}" />
                    </a>
                </div>
                <p class="user-rank rank-number">${user.rank}</p>
                <div class="nick-wrap">
                    <div class="user-nick-default user-nick-wrapper">
                        <p title="${user.username}">
                            <a class="nick" href="${user.profileUrl}">${user.username}</a>
                        </p>
                    </div>
                </div>
            </article>
        `;
        listContainer.appendChild(listItem);
    });
};

renderRankings(praiseRankings, ".praise-rank-list");
renderRankings(contestRankings, ".contest-rank-list");
renderRankings(salesRankings, ".sales-rank-list");

const tooltipTrigger = document.querySelector("#tooltip-trigger");
const tooltipContent = document.querySelector(".tooltip-content");

tooltipTrigger.addEventListener("mouseover", () => {
    tooltipContent.classList.add("show");
});

tooltipTrigger.addEventListener("mouseout", () => {
    tooltipContent.classList.remove("show");
});

// 드롭다운 필터 설정
const filterContainer = document.querySelector(".jOecJz");
const headerWrap = filterContainer.querySelector(".header-wrap");
const bottomWrap = filterContainer.querySelector(".bottom-wrap");
const arrow = filterContainer.querySelector(".arrow");
const items = filterContainer.querySelectorAll(".item");
const inputField = headerWrap.querySelector("input");

// 드롭다운 열고 닫기
headerWrap.addEventListener("click", () => {
    const isVisible = bottomWrap.style.visibility === "visible";
    bottomWrap.style.visibility = isVisible ? "hidden" : "visible";
    arrow.style.transform = isVisible ? "rotate(90deg)" : "rotate(-90deg)";
});

// 항목 클릭 시 필터 업데이트 및 드롭다운 닫기
items.forEach((item) => {
    item.addEventListener("click", () => {
        // 모든 항목의 활성화 클래스 제거
        items.forEach((i) => i.classList.remove("active"));
        // 선택된 항목에 활성화 클래스 추가
        item.classList.add("active");
        // 선택된 항목의 텍스트를 input에 반영
        inputField.value = item.textContent;
        // 드롭다운 닫기
        bottomWrap.style.visibility = "hidden";
        arrow.style.transform = "rotate(90deg)";
    });
});

// 드롭다운 외부 클릭 시 닫기
document.addEventListener("click", (event) => {
    if (!filterContainer.contains(event.target)) {
        bottomWrap.style.visibility = "hidden";
        arrow.style.transform = "rotate(90deg)";
    }
});
